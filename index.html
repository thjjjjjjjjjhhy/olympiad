<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R641V1KFSP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-R641V1KFSP');
</script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>OlympiadPrep - Home</title>
  <link href="https://fonts.googleapis.com/css2?family=Lora:wght@600&family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <style>
    :root {
      --bg: #f9fafb;
      --fg: #1f2937;
      --muted: #4b5563;
      --grid: #d1d5db;
      --card: #ffffff;
      --accent: #2563eb;
      --accent-hover: #1d4ed8;
      --shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -2px rgba(0,0,0,0.1);
      --ring: rgba(37, 99, 235, 0.2);
    }
    html,body{
      background-color: var(--bg);
      color: var(--fg);
      font-family: "Open Sans", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }
    .container{max-width:1100px;margin:0 auto;padding:0 24px}

    /* Header */
    .site-header{
      position:sticky; top:0; z-index:10;
      background: var(--card) !important;
      color: var(--fg); padding:16px 0;
      border-bottom: 1px solid var(--grid);
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    }
    .site-header .container{display:flex; align-items:center; justify-content:space-between; gap:16px; flex-wrap:wrap;}
    .logo{
      font-family: 'Lora', serif;
      font-weight:600;
      color: #111827;
      margin:0;
      font-size: 1.75rem;
    }
    .site-nav a{ color: var(--fg); text-decoration:none; font-weight:600; padding-bottom: 4px; border-bottom: 2px solid transparent;}
    .site-nav a:hover{ color: var(--accent); border-bottom-color: var(--accent); }
    .site-nav a.active{ color: var(--accent); border-bottom-color: var(--accent); }
    #auth-slot{display:flex;align-items:center;gap:10px;min-height:32px}

    /* Main Content Area */
    .content-area {
      padding: 48px 0;
    }
    .grid-layout{display:grid;grid-template-columns:1fr 1fr;gap:32px;align-items:start}
    @media (max-width:900px){ .grid-layout{grid-template-columns:1fr} }

    h1, h2, h3 {
      font-family: 'Lora', serif;
      color: #111827;
      font-weight: 600;
    }

    .main-title {
        font-size: 2.5rem;
        line-height: 1.2;
        margin-bottom: 1rem;
    }

    .subtitle {
        font-size: 1.125rem;
        color: var(--muted);
        max-width: 50ch;
    }
    
    .action-panel {
        background: var(--card);
        border: 1px solid var(--grid);
        border-radius: 8px;
        padding: 24px;
        box-shadow: var(--shadow);
    }

    .action-panel h2 {
        font-size: 1.5rem;
        margin-top: 0;
    }

    .input-wrap{position:relative;}
    .input-icon{
      position:absolute; left:14px; top:50%; transform:translateY(-50%);
      width:20px; height:20px; color: #9ca3af;
    }
    .lookup-form input{
      width: 100%;
      border: 1px solid var(--grid); border-radius: 6px; padding:12px 14px 12px 44px; font-size: 1rem;
      background:#f9fafb;
      transition: box-shadow .15s ease, border-color .15s ease;
    }
    .lookup-form input:focus{
      outline:none; border-color:var(--accent); box-shadow: 0 0 0 3px var(--ring);
    }
    .lookup-form button{
      margin-top: 12px;
      width: 100%;
      border:0; background:var(--accent); color:#fff; padding:12px 16px; border-radius:6px; font-weight:700; font-size: 1rem; cursor:pointer;
      transition: background-color .2s;
    }
    .lookup-form button:hover{ background: var(--accent-hover); }

    .suggestions{
      display:flex;flex-wrap:wrap;gap:8px;margin-top:16px; border-top: 1px solid var(--grid); padding-top: 16px;
    }
    .chip{
      padding:6px 12px;border-radius:6px;border:1px solid var(--grid);
      background:#f3f4f6;color:var(--muted);font-size:.875rem;cursor:pointer; font-weight: 600;
      transition: background .15s ease, color .15s ease;
    }
    .chip:hover{background: #e5e7eb; color: var(--fg); }

    .cta-button {
        display: inline-block;
        background: var(--accent);
        color: #fff;
        padding: 12px 24px;
        border-radius: 6px;
        font-weight: 700;
        text-decoration: none;
        transition: background-color .2s;
    }
    .cta-button:hover {
        background: var(--accent-hover);
    }

    /* Features Section */
    .features {
      padding: 48px 0;
      background-color: #f3f4f6;
      border-top: 1px solid var(--grid);
      border-bottom: 1px solid var(--grid);
    }
    .features h2 {
      text-align: center;
      font-size: 2rem;
      margin-top: 0;
      margin-bottom: 32px;
    }
    .features-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:24px;}
    @media (max-width:900px){ .features-grid{grid-template-columns:1fr} }
    .feature-card{
        background:var(--card);border:1px solid var(--grid);border-radius:8px;padding:24px;
        box-shadow: var(--shadow);
    }
    .feature-card h3{ margin-top: 0; font-size: 1.25rem; }
    .feature-card p { color: var(--muted); margin-bottom: 1.5rem;}
    .feature-card a {
        font-weight: 700;
        color: var(--accent);
        text-decoration: none;
    }
    .feature-card a:hover {
        text-decoration: underline;
    }

    footer{padding:32px 0;text-align:center;color:var(--muted);}
  </style>
</head>
<body>
  <header class="site-header">
    <div class="container">
      <h1 class="logo">OlympiadPrep</h1>
      <nav class="site-nav">
        <a href="index.html" class="active">Home</a>
        <a href="timeline.html">Timeline</a>
        <a href="tutor.html">Need a Tutor</a>
        <a href="books.html">Books</a>
      </nav>
      <div id="auth-slot"></div>
    </div>
  </header>

  <main>
    <section class="content-area">
        <div class="container grid-layout">
            <div>
                <h1 class="main-title">A smarter way to prepare for math contests.</h1>
                <p class="subtitle">OlympiadPrep creates a personalized study plan based on your skills, helping you master the topics you need to succeed in contests like the AMC, AIME, and USAMO.</p>
                <div style="margin-top: 32px;">
                    <a href="planning.html" class="cta-button">Create Your Study Plan ‚Üí</a>
                </div>
            </div>
            <div class="action-panel">
                <h2>Find a Problem</h2>
                <p style="color: var(--muted); margin-top: 0;">Quickly look up any past contest problem.</p>
                 <form class="lookup-form" onsubmit="handleSearch(event)" autocomplete="off">
                  <div class="input-wrap">
                    <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd" /></svg>
                    <input type="text" id="lookup-query" aria-label="Search contest problems"
                           placeholder="e.g., AMC 12B 2023 P14" required>
                  </div>
                  <button type="submit" aria-label="Search">Search</button>
                </form>

                <div class="suggestions" id="chips">
                  <span class="chip" data-preset="AMC 8 2019 Problem 9">AMC 8 2019 P9</span>
                  <span class="chip" data-preset="AMC 12B 2023 Problem 14">AMC 12B 2023 P14</span>
                  <span class="chip" data-preset="AIME I 2022 Problem 3">AIME I 2022 #3</span>
                  <span class="chip" data-preset="USAMO 2015 Problem 1">USAMO 2015 #1</span>
                </div>
            </div>
        </div>
    </section>

    <section class="features">
        <div class="container">
            <h2>Everything you need in one place</h2>
            <div class="features-grid">
                <div class="feature-card">
                  <h3>üß≠ Personalized Timelines</h3>
                  <p>Take a short diagnostic test and get a day-by-day study schedule with recommended readings, practice problems, and mock exams.</p>
                  <a href="planning.html">Get Started ‚Üí</a>
                </div>
                <div class="feature-card">
                  <h3>üë©‚Äçüè´ Expert Tutors</h3>
                  <p>Connect with experienced coaches who can help you master difficult concepts and improve your problem-solving strategies.</p>
                  <a href="tutor.html">Find a Tutor ‚Üí</a>
                </div>
                <div class="feature-card">
                  <h3>üìö Curated Book Library</h3>
                  <p>Browse a ranked list of the best books for every level, from AMC 8 fundamentals to advanced USAMO preparation.</p>
                  <a href="books.html">Explore Books ‚Üí</a>
                </div>
            </div>
        </div>
    </section>
  </main>
  

  <footer>
    <div class="container">
        ¬© 2025 OlympiadPrep. A resource for aspiring mathletes.
    </div>
  </footer>

  <!-- Search logic (AMC 8 supported, ‚ÄúP14/#14/PROB 14‚Äù supported) -->
  <script>
    // Chip quick-fill
    document.getElementById('chips').addEventListener('click', (e)=>{
      const el = e.target.closest('[data-preset]'); if(!el) return;
      const box = document.getElementById('lookup-query'); box.value = el.dataset.preset; box.focus();
    });

    function handleSearch(event) {
      event.preventDefault();
      const raw = document.getElementById('lookup-query').value.trim();
      const q = raw.toUpperCase();

      // normalize "P14", "#14", "PROB 14"
      const normalized = q
        .replace(/#\s*(\d{1,2})/g, ' PROBLEM $1')
        .replace(/\bP(\d{1,2})\b/g, ' PROBLEM $1');

      const tokens = normalized.replace(/[^A-Z0-9]/g, ' ').split(/\s+/).filter(Boolean);

      let year=null, problem=null, contest=null, level=null, variant=null;

      tokens.forEach(t => {
        if (!year && /^\d{4}$/.test(t)) { year = t; return; }

        if (t === 'USAMO') { contest = 'USAMO'; return; }

        if (t.startsWith('AIME')) {
          contest = 'AIME';
          const m = t.match(/^AIME([I12]{0,2})$/);
          if (m && m[1]) variant = m[1];
          return;
        }
        if (t === 'AIME') { contest = 'AIME'; return; }

        if (t.startsWith('AMC')) {
          contest = 'AMC';
          const m = t.match(/^AMC(\d{0,2})([AB])?$/);
          if (m) {
            if (m[1]) level = m[1];
            if (m[2]) variant = m[2];
          }
          return;
        }
        if (contest === 'AMC' && !level) {
          const m = t.match(/^(8|10|12)([AB])?$/);
          if (m) { level = m[1]; if (m[2]) variant = m[2]; return; }
        }
        if (contest === 'AMC' && !variant && /^[AB]$/.test(t)) { variant = t; return; }
        if (contest === 'AIME' && !variant && /^(I|II|1|2)$/.test(t)) {
          variant = t.replace('1','I').replace('2','II').toUpperCase(); return;
        }

        const pm = t.match(/^PROB(?:LEM)?(\d{1,2})$/);
        if (!problem && pm) { problem = pm[1]; return; }
        if (!problem && /^\d{1,2}$/.test(t)) { problem = t; }
      });

      if (contest === 'AIME' && variant) variant = variant.replace('1','I').replace('2','II').toUpperCase();

      if (!year || !contest) { alert('Please include a YEAR and CONTEST (e.g., "AMC 8 2021 Problem 12").'); return; }

      let url = null;
      const Y = parseInt(year, 10);

      if (problem) {
        if (contest === 'AMC') {
          if (!level) { alert('Please specify AMC level (8, 10, or 12).'); return; }
          if (level === '8') {
            url = `https://artofproblemsolving.com/wiki/index.php/${year}_AMC_8_Problems/Problem_${problem}`;
          } else {
            if (Y >= 2002) {
              if (!variant) { alert('Please specify A or B (e.g., AMC 12B).'); return; }
              url = `https://artofproblemsolving.com/wiki/index.php/${year}_AMC_${level}${variant}_Problems/Problem_${problem}`;
            } else {
              url = `https://artofproblemsolving.com/wiki/index.php/${year}_AMC_${level}_Problems/Problem_${problem}`;
            }
          }
        } else if (contest === 'AIME') {
          url = (Y >= 2000)
            ? `https://artofproblemsolving.com/wiki/index.php/${year}_AIME_${(variant||'I')}_Problems/Problem_${problem}`
            : `https://artofproblemsolving.com/wiki/index.php/${year}_AIME_Problems/Problem_${problem}`;
        } else if (contest === 'USAMO') {
          url = `https://artofproblemsolving.com/wiki/index.php/${year}_USAMO_Problems/Problem_${problem}`;
        }
      } else {
        // year set
        if (contest === 'AMC') {
          if (!level) { alert('Please specify AMC level (8, 10, or 12).'); return; }
          if (level === '8') {
            url = `https://artofproblemsolving.com/wiki/index.php/${year}_AMC_8_Problems`;
          } else {
            url = (Y >= 2002)
              ? (variant ? `https://artofproblemsolving.com/wiki/index.php/${year}_AMC_${level}${variant}_Problems`
                         : (alert('Please specify A or B (e.g., AMC 10A).'), null))
              : `https://artofproblemsolving.com/wiki/index.php/${year}_AMC_${level}_Problems`;
          }
        } else if (contest === 'AIME') {
          url = (Y >= 2000)
            ? `https://artofproblemsolving.com/wiki/index.php/${year}_AIME_${(variant||'I')}_Problems`
            : `https://artofproblemsolving.com/wiki/index.php/${year}_AIME_Problems`;
        } else if (contest === 'USAMO') {
          url = `https://artofproblemsolving.com/wiki/index.php/${year}_USAMO_Problems`;
        }
      }

      if (url) {
        window.open(url, '_blank');
      }
    }
  </script>

  <!-- Auth (header sign-in) -->
  <script type="module" src="./auth.js"></script>
</body>
</html>
