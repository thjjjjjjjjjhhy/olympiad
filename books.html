<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Books - OlympiadPrep</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --fg:#0f172a; --muted:#64748b; --grid:#e5e7eb; --card:#fff;
      --accent:#0ea5e9; --accent-2:#2563eb; --shadow:0 8px 24px rgba(2,6,23,.08);
    }
    html,body{background:#fff;color:var(--fg);font-family:"Source Sans Pro",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    .container{max-width:1100px;margin:0 auto;padding:0 16px}

    /* Header (match site) */
    .site-header{position:sticky;top:0;z-index:10;background:linear-gradient(90deg,#3b82f6 0%, #6366f1 100%)!important;color:#fff;padding:12px 0;border-bottom:1px solid rgba(255,255,255,.15)}
    .site-header .container{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}
    .logo{font-weight:800;color:#fff;margin:0}
    .site-nav{display:flex;gap:14px;flex-wrap:wrap}
    .site-nav a{color:#fff;text-decoration:none;font-weight:700;opacity:.95}
    .site-nav a:hover{text-decoration:underline;opacity:1}
    .site-nav a.active{border-bottom:2px solid rgba(255,255,255,.9);padding-bottom:2px}
    #auth-slot{display:flex;align-items:center;gap:10px;min-height:32px}

    /* Page intro + anchor nav */
    .hero{padding:22px 0 8px;border-bottom:1px solid var(--grid);background:linear-gradient(180deg,rgba(99,102,241,.06),rgba(99,102,241,0))}
    .hero h2{margin:6px 0 4px;font-size:1.8rem}
    .sub{color:var(--muted)}
    .tabs{display:flex;gap:8px;flex-wrap:wrap;margin:10px 0 2px}
    .tab{display:inline-flex;align-items:center;gap:8px;border:1px solid var(--grid);border-radius:999px;padding:8px 12px;background:#fff;text-decoration:none;color:#0f172a;font-weight:700;box-shadow:0 1px 0 rgba(15,23,42,.02)}
    .tab:hover{background:#f1f5f9}

    /* Sections */
    .section{padding:16px 0}
    .section h3{margin:8px 0 10px}
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
    @media (max-width:900px){ .grid{grid-template-columns:1fr} }

    /* Book card */
    .card{background:var(--card);border:1px solid var(--grid);border-radius:16px;box-shadow:var(--shadow);padding:14px;display:flex;flex-direction:column;gap:8px}
    .rank{display:inline-flex;align-items:center;justify-content:center;width:30px;height:30px;border-radius:10px;background:#eef2ff;border:1px solid #e5e7eb;font-weight:800}
    .title{font-weight:800;margin:0}
    .meta{display:flex;gap:8px;flex-wrap:wrap}
    .chip{display:inline-flex;align-items:center;gap:6px;border:1px solid var(--grid);border-radius:999px;padding:4px 10px;background:#f8fafc;color:#334155;font-size:.86rem}
    .desc{color:var(--muted);font-size:.95rem}
    .actions{margin-top:auto;display:flex;gap:8px;flex-wrap:wrap}
    .btn{display:inline-flex;align-items:center;gap:8px;border-radius:10px;padding:8px 12px;text-decoration:none;font-weight:800}
    .btn.primary{background:linear-gradient(90deg,#0ea5e9,#2563eb);color:#fff;border:0}
    .btn.secondary{background:#fff;border:1px solid var(--grid);color:#0f172a}
    
    /* New button styling for the "Link to free copy" */
    .btn.free-link {
      background: #4CAF50; /* Green background */
      color: white; /* White text */
      border: 1px solid #4CAF50; /* Green border */
      padding: 8px 16px; /* Padding */
      border-radius: 10px; /* Rounded corners */
      text-decoration: none;
      font-weight: 800;
      transition: background-color 0.3s, transform 0.2s; /* Smooth transition */
    }

    .btn.free-link:hover {
      background-color: #45a049; /* Darker green on hover */
      transform: translateY(-2px); /* Slightly elevate the button on hover */
    }

    .btn.free-link:active {
      background-color: #388e3c; /* Even darker green when clicked */
      transform: translateY(0); /* Button goes back to normal after click */
    }

    footer{border-top:1px solid var(--grid);padding:18px 0;text-align:center;color:#64748b;margin-top:10px}
    /* Force the "Recommended Books" title to be black */
    .hero h2 { 
      color: #0f172a !important;
    }

  </style>
</head>
<body>
  <header class="site-header">
    <div class="container">
      <div style="display:flex;align-items:center;gap:16px;flex-wrap:wrap">
        <h1 class="logo">OlympiadPrep</h1>
        <nav class="site-nav">
          <a href="index.html">Home</a>
          <a href="timeline.html">Timeline</a>
          <a href="tutor.html">Need a Tutor</a>
          <a href="books.html" class="active">Books</a>
        </nav>
      </div>
      <div id="auth-slot"></div>
    </div>
  </header>

  <section class="hero">
    <div class="container">
      <h2>ðŸ“š Recommended Books</h2>
      <p class="sub">Same curated library the planner uses. Each list is ranked by importance for that level.</p>
      <div class="tabs">
        <a class="tab" href="#amc8">AMC 8</a>
        <a class="tab" href="#amc1012">AMC 10/12</a>
        <a class="tab" href="#aime">AIME</a>
        <a class="tab" href="#usamo">US(A)JMO</a>
      </div>
    </div>
  </section>

  <main class="container" id="main">
    <!-- Sections render here -->
  </main>

  <footer>Â© 2025 OlympiadPrep. Empowering tomorrowâ€™s problem solvers.</footer>

  <script>
    // Master catalog (same IDs your planner uses)
    const BOOKS = [
      {id:'prealgebra', title:'AoPS Prealgebra', link:'https://artofproblemsolving.com/store/book/prealgebra', freeLink:'https://www.scribd.com/document/695816327/Art-of-Problem-Solving-Prealgebra', topics:['Polynomials & Algebra'], note:'Strong bridge to AMC 8 foundations.'},
      {id:'aops-v1', title:'AoPS Volume 1 (The Basics)', link:'https://artofproblemsolving.com/store/book/aops-vol1', freeLink:'https://www.scribd.com/document/491176848/Sandor-Lehoczky-Richard-Rusczyk-The-Art-of-Problem-Solving-Vol-1-The-Basics-2006-AoPS-Incorporated-compressed-pdf', topics:['Algebra','NT','Geometry','C&P','Probability'], note:'Core problem-solving toolkit for AMC 8â€“10.'},
      {id:'cmms', title:'Competition Math for Middle School (Batterson)', link:'https://artofproblemsolving.com/store/book/competition-math-for-middle-school', freeLink:'https://archive.org/details/competitionmathf0000batt_t4m5', topics:['Algebra','NT','C&P','Probability','Geometry'], note:'Targeted drills for AMC 8/10 speed and accuracy.'},
      {id:'intro-alg', title:'AoPS Introduction to Algebra', link:'https://artofproblemsolving.com/store/book/introduction-to-algebra', freeLink:'https://www.scribd.com/document/437543552/341854248-The-AoPS-Introduction-to-Algebra-pdf', topics:['Algebra','Functions','Sequences'], note:'Algebra depth for AMC 8 â†’ 10.'},
      {id:'intro-cp', title:'AoPS Introduction to Counting & Probability', link:'https://artofproblemsolving.com/store/book/introduction-to-counting-and-probability', freeLink:'https://www.scribd.com/document/785396244/David-Patrick-Introduction-to-Counting-Probability-the-Art-of-Problem-Solving-AoPS-Inc-2007-Compressed', topics:['Combinatorics','Probability'], note:'Counting and probability fundamentals.'},
      {id:'intro-nt', title:'AoPS Introduction to Number Theory', link:'https://artofproblemsolving.com/store/book/intro-number-theory', freeLink:'https://www.scribd.com/document/518011016/Introduction-to-Number-Theory-Mathew-Crawford', topics:['Number Theory'], note:'Divisibility, modular arithmetic, and more.'},
      {id:'intro-geo', title:'AoPS Introduction to Geometry', link:'https://artofproblemsolving.com/store/book/intro-geometry', freeLink:'https://www.scribd.com/document/604567594/Introduction-to-Geometry', topics:['Geometry'], note:'Geometry basics with contest-style problems.'},
      {id:'aops-v2', title:'AoPS Volume 2 (And Beyond)', link:'https://artofproblemsolving.com/store/book/aops-vol2', freeLink:'https://www.scribd.com/document/518010977/Art-of-Problem-Solving-Volume-2-and-Beyond-by-Sandor-Lehoczky-Richard-Rusczyk', topics:['Algebra','NT','Geometry','C&P','Probability'], note:'AIME-level problem solving.'},
      {id:'int-alg', title:'AoPS Intermediate Algebra', link:'https://artofproblemsolving.com/store/book/intermediate-algebra', freeLink:'https://www.scribd.com/document/575029260/The-Art-of-Problem-Solving-Intermediate-Algebra', topics:['Algebra','Functions','Sequences'], note:'Equations, inequalities, functional thinking.'},
      {id:'int-cp', title:'AoPS Intermediate Counting & Probability', link:'https://artofproblemsolving.com/store/book/intermediate-counting', freeLink:'https://www.scribd.com/document/792605427/AOPS-Intermediate-Counting-and-Probability', topics:['Combinatorics','Probability'], note:'Bijections, PIE, generating functions (intro).'},
      {id:'precalc', title:'AoPS Precalculus', link:'https://artofproblemsolving.com/store/book/precalculus', freeLink:'https://ia800101.us.archive.org/22/items/precalculus-by-richard-rusczyk/Precalculus%20by%20Richard%20Rusczyk.pdf', topics:['Functions','Sequences','Algebra'], note:'Functional equations, series, and more.'},
      {id:'104nt', title:'104 Number Theory Problems (Andreescu & Andrica)', link:'https://www.amazon.com/104-Number-Theory-Problems-Training/dp/0817645276', freeLink:'https://docs.google.com/file/d/0Bx5UtfcIyfwfTUt5UFUtS2wtMjQ/edit?resourcekey=0-dEhfG2YqAV5t2EDwSIs_KQ', topics:['Number Theory'], note:'Challenge sets for AIME/US(A)JMO NT.'},
      {id:'egmo', title:'EGMO â€” Euclidean Geometry in Mathematical Olympiads (Chen)', link:'https://bookstore.ams.org/prb-27/', freeLink:'https://library.tsilikin.ru/%D0%95%D1%81%D1%82%D0%B5%D1%81%D1%82%D0%B2%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5%20%D0%BD%D0%B0%D1%83%D0%BA%D0%B8/%D0%9C%D0%B0%D1%82%D0%B5%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0/Chen%20Evan%20Euclidean%20Geometry%20In%20Mathematical%20Olympiads%202016.pdf', topics:['Geometry'], note:'Geometry bible for olympiad style.'},
      {id:'velleman', title:'How to Prove It (Velleman)', link:'https://www.cambridge.org/highereducation/books/how-to-prove-it/6D2965D625C6836CD4A785A2C843B3DA', freeLink:'https://mrce.in/ebooks/How%20To%20Prove%20It%20A%20Structured%20Approach%203rd%20Ed.pdf', topics:['Proof'], note:'Proof methods: direct, contrapositive, induction.'},
      {id:'engel', title:'Problem-Solving Strategies (Engel)', link:'https://link.springer.com/book/10.1007/b97682', freeLink:'https://mathematicalolympiads.wordpress.com/wp-content/uploads/2012/08/75427434-problem-books-in-mathematics-problem-solving-strategies.pdf', topics:['Combinatorics','Number Theory','Geometry'], note:'Classic olympiad strategy compendium.'},
      {id:'zeitz', title:'The Art & Craft of Problem Solving (Zeitz)', link:'https://www.wiley.com/en-us/The+Art+and+Craft+of+Problem+Solving%2C+3rd+Edition-p-9781119239901', freeLink:'https://kheavan.wordpress.com/wp-content/uploads/2010/06/paul-zeitz-author-the-art-and-craft-of-problem-solving-2edwiley20060471789011.pdf', topics:['Strategy','Algebra','NT','Geometry','C&P'], note:'Heuristics and tactics across topics.'},
      {id:'path-comb', title:'A Path to Combinatorics for Undergraduates', link:'https://www.amazon.com/Path-Combinatorics-Undergraduates-Counting-Strategies/dp/0817642889', freeLink:'https://mathematicalolympiads.wordpress.com/wp-content/uploads/2012/08/a_path_to_combinatorics_for_undergraduates.pdf', topics:['Combinatorics'], note:'Solid JMO/USAMO combinatorics build.'}
    ];

    // Ranked lists by level
    const LISTS = {
      amc8: [
        'prealgebra','aops-v1','cmms','intro-alg','intro-cp','intro-nt','intro-geo'
      ],
      amc1012: [
        'aops-v1','intro-alg','intro-cp','intro-nt','intro-geo','aops-v2','int-alg','int-cp','precalc'
      ],
      aime: [
        'aops-v2','int-alg','int-cp','precalc','104nt','zeitz','egmo','aops-v1','path-comb'
      ],
      usamo: [
        'velleman','egmo','engel','aops-v2','zeitz','int-alg','int-cp','104nt','path-comb','precalc'
      ]
    };

    const SECTIONS = [
      {id:'amc8',    title:'AMC 8'},
      {id:'amc1012', title:'AMC 10/12'},
      {id:'aime',    title:'AIME'},
      {id:'usamo',   title:'US(A)JMO'}
    ];

    // Render
    const byId = Object.fromEntries(BOOKS.map(b=>[b.id,b]));
    const main = document.getElementById('main');

    SECTIONS.forEach(sec=>{
      const wrap = document.createElement('section');
      wrap.className = 'section';
      wrap.id = sec.id;
      wrap.innerHTML = `<h3>${sec.title}</h3><div class="grid"></div>`;
      const grid = wrap.querySelector('.grid');

      (LISTS[sec.id]||[]).forEach((bookId, idx)=>{
        const b = byId[bookId]; if(!b) return;
        const card = document.createElement('article');
        card.className = 'card';
        card.innerHTML = `
          <div style="display:flex;align-items:flex-start;gap:10px">
            <div class="rank">${idx+1}</div>
            <div>
              <h4 class="title">${b.title}</h4>
              <div class="meta">
                ${b.topics.map(t=>`<span class="chip">${t}</span>`).join('')}
                <span class="chip">Planner-ready</span>
              </div>
            </div>
          </div>
          <p class="desc">${b.note||''}</p>
          <div class="actions">
            <a class="btn primary" href="${b.link}" target="_blank" rel="noopener">Info / Buy â†’</a>
            <a class="btn secondary" href="planning.html?goal=${sec.id==='amc1012'?'amc10':sec.id==='usamo'?'usamo':sec.id==='amc8'?'amc8':sec.id==='aime'?'aime':'none'}" title="Use in a plan">Use in plan</a>
            <a class="btn free-link" href="${b.freeLink || '#'}" target="_blank" rel="noopener">Link to free copy</a>
          </div>
        `;
        grid.appendChild(card);
      });

      main.appendChild(wrap);
    });
  </script>

  <!-- Auth for header -->
  <script type="module" src="./auth.js"></script>
</body>
</html>
